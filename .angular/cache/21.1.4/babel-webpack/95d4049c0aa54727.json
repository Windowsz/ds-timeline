{"ast":null,"code":"import { EventEmitter, SimpleChanges, ChangeDetectorRef, ElementRef } from '@angular/core';\nimport { NgxTimelineCalendarService } from './ngx-timeline-calendar.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./ngx-timeline-calendar.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = [\"timelineEl\"];\nconst _c1 = [\"resRows\"];\nconst _c2 = [\"wrapEl\"];\nconst _c3 = a0 => ({\n  \"ntc-active\": a0\n});\nconst _c4 = a0 => ({\n  \"ntc-res-group\": a0\n});\nconst _c5 = (a0, a1) => ({\n  \"ntc-weekend\": a0,\n  \"ntc-today-col\": a1\n});\nconst _c6 = (a0, a1, a2) => ({\n  \"ntc-grid-group\": a0,\n  \"ntc-row-selecting\": a1,\n  \"ntc-row-drag-over\": a2\n});\nconst _c7 = (a0, a1, a2) => ({\n  \"ntc-evt-selected\": a0,\n  \"ntc-evt-dragging\": a1,\n  \"ntc-evt-blocked\": a2\n});\nfunction NgxTimelineCalendarComponent_div_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\", 30)(2, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_div_11_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setView(\"resourceTimelineDay\"));\n    });\n    i0.ɵɵtext(3, \"Day\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_div_11_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setView(\"resourceTimelineWeek\"));\n    });\n    i0.ɵɵtext(5, \"Week\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_div_11_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setView(\"resourceTimelineMonth\"));\n    });\n    i0.ɵɵtext(7, \"Month\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c3, ctx_r2.currentView === \"resourceTimelineDay\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c3, ctx_r2.currentView === \"resourceTimelineWeek\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c3, ctx_r2.currentView === \"resourceTimelineMonth\"));\n  }\n}\nfunction NgxTimelineCalendarComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToToday());\n    });\n    i0.ɵɵtext(3, \"Today\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 25)(5, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.navigate(-1));\n    });\n    i0.ɵɵtext(6, \"\\u2039\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.navigate(1));\n    });\n    i0.ɵɵtext(8, \"\\u203A\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"span\", 27);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, NgxTimelineCalendarComponent_div_2_div_11_Template, 8, 9, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.currentTitle);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showViewSwitcher);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_10_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NgxTimelineCalendarComponent_div_10_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const res_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleResource(res_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const res_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(res_r6.expanded ? \"\\u25BC\" : \"\\u25BA\");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_10_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const res_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", res_r6.extendedProps[\"subtitle\"], \" \");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtemplate(1, NgxTimelineCalendarComponent_div_10_button_1_Template, 2, 1, \"button\", 33);\n    i0.ɵɵelementStart(2, \"div\", 34)(3, \"span\", 35);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, NgxTimelineCalendarComponent_div_10_span_5_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const res_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"height\", ctx_r2.rowHeight, \"px\")(\"padding-left\", res_r6.level * 18 + 10, \"px\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c4, res_r6.isGroup));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", res_r6.isGroup);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(res_r6.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", res_r6.extendedProps && res_r6.extendedProps[\"subtitle\"]);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r7 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"width\", col_r7.width, \"px\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(col_r7.label);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const slot_r8 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"width\", ctx_r2.slotWidth, \"px\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c5, ctx_r2.svc.isWeekend(slot_r8), ctx_r2.svc.isToday(slot_r8, ctx_r2.currentView)));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.svc.formatSlotLabel(slot_r8, ctx_r2.currentView, ctx_r2.slotDuration, ctx_r2.timeFormat));\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 49);\n  }\n  if (rf & 2) {\n    const slot_r11 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.slotWidth, \"px\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c5, ctx_r2.svc.isWeekend(slot_r11), ctx_r2.svc.isToday(slot_r11, ctx_r2.currentView)));\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"span\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"left\", ctx_r2.getSelLeft(), \"px\")(\"width\", ctx_r2.getSelWidth(), \"px\")(\"top\", ctx_r2.getEventTop(), \"px\")(\"height\", ctx_r2.eventHeight, \"px\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.getSelLabel());\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_6_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const evt_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatEventTime(evt_r13), \" \");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_6_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵlistener(\"mousedown\", function NgxTimelineCalendarComponent_div_20_div_6_div_5_Template_div_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const evt_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onResizeStart($event, evt_r13, \"end\"));\n    });\n    i0.ɵɵelement(1, \"span\", 60);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_6_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵlistener(\"mousedown\", function NgxTimelineCalendarComponent_div_20_div_6_div_6_Template_div_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const evt_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onResizeStart($event, evt_r13, \"start\"));\n    });\n    i0.ɵɵelement(1, \"span\", 60);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵlistener(\"mousedown\", function NgxTimelineCalendarComponent_div_20_div_6_Template_div_mousedown_0_listener($event) {\n      const evt_r13 = i0.ɵɵrestoreView(_r12).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onEventMouseDown($event, evt_r13));\n    })(\"click\", function NgxTimelineCalendarComponent_div_20_div_6_Template_div_click_0_listener($event) {\n      const evt_r13 = i0.ɵɵrestoreView(_r12).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onEventClick($event, evt_r13));\n    })(\"mouseenter\", function NgxTimelineCalendarComponent_div_20_div_6_Template_div_mouseenter_0_listener($event) {\n      const evt_r13 = i0.ɵɵrestoreView(_r12).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onEventMouseEnter($event, evt_r13));\n    })(\"mouseleave\", function NgxTimelineCalendarComponent_div_20_div_6_Template_div_mouseleave_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onEventMouseLeave());\n    })(\"mousemove\", function NgxTimelineCalendarComponent_div_20_div_6_Template_div_mousemove_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onEventMouseMove($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 53)(2, \"span\", 54);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, NgxTimelineCalendarComponent_div_20_div_6_span_4_Template, 2, 1, \"span\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, NgxTimelineCalendarComponent_div_20_div_6_div_5_Template, 2, 0, \"div\", 56)(6, NgxTimelineCalendarComponent_div_20_div_6_div_6_Template, 2, 0, \"div\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const evt_r13 = ctx.$implicit;\n    const ei_r16 = ctx.index;\n    const res_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"left\", ctx_r2.getEventLeft(evt_r13), \"px\")(\"width\", ctx_r2.getEventWidth(evt_r13), \"px\")(\"top\", ctx_r2.getEventTopStacked(evt_r13, res_r10.id, ei_r16), \"px\")(\"height\", ctx_r2.eventHeight, \"px\")(\"background-color\", evt_r13.color || evt_r13.backgroundColor || ctx_r2.defaultEventColor)(\"border-color\", evt_r13.borderColor || evt_r13.color || ctx_r2.defaultEventColor)(\"color\", ctx_r2.svc.getContrastColor(evt_r13.color || evt_r13.backgroundColor || ctx_r2.defaultEventColor));\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(19, _c7, ctx_r2.selectedEventId === evt_r13.id, ctx_r2.dragState !== null && ctx_r2.dragState.eventId === evt_r13.id, ctx_r2.isBlocked(evt_r13, res_r10.id)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(evt_r13.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.currentView === \"resourceTimelineDay\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editable && evt_r13.editable !== false && evt_r13.durationEditable !== false);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editable && evt_r13.editable !== false && evt_r13.startEditable !== false);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 62);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"left\", ctx_r2.nowLeft, \"px\");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵlistener(\"mousedown\", function NgxTimelineCalendarComponent_div_20_Template_div_mousedown_0_listener($event) {\n      const res_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onGridMouseDown($event, res_r10));\n    });\n    i0.ɵɵelementStart(1, \"div\", 42);\n    i0.ɵɵtemplate(2, NgxTimelineCalendarComponent_div_20_div_2_Template, 1, 6, \"div\", 43);\n    i0.ɵɵelement(3, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, NgxTimelineCalendarComponent_div_20_div_4_Template, 3, 9, \"div\", 45);\n    i0.ɵɵelementStart(5, \"div\", 46);\n    i0.ɵɵtemplate(6, NgxTimelineCalendarComponent_div_20_div_6_Template, 7, 23, \"div\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, NgxTimelineCalendarComponent_div_20_div_7_Template, 1, 2, \"div\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const res_r10 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"height\", ctx_r2.rowHeight, \"px\")(\"cursor\", ctx_r2.selectable && !res_r10.isGroup ? \"crosshair\" : \"default\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(9, _c6, res_r10.isGroup, ctx_r2.selState && ctx_r2.selState.resourceId === res_r10.id, ctx_r2.dragState && ctx_r2.dragTargetResourceId === res_r10.id && ctx_r2.dragState.sourceResourceId !== res_r10.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.slots);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selState && ctx_r2.selState.resourceId === res_r10.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.getResourceEvents(res_r10.id));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showNowIndicator && ctx_r2.nowVisible);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_21_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.selResource.title);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63)(1, \"div\", 64)(2, \"span\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDD50\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, NgxTimelineCalendarComponent_div_21_div_6_Template, 2, 1, \"div\", 65);\n    i0.ɵɵelementStart(7, \"div\", 66);\n    i0.ɵɵtext(8, \"Release to confirm\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"left\", ctx_r2.tooltipX, \"px\")(\"top\", ctx_r2.tooltipY, \"px\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.getSelLabel());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selResource);\n  }\n}\nfunction NgxTimelineCalendarComponent_div_22_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"span\", 71);\n    i0.ɵɵtext(2, \"\\uD83D\\uDC64\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getEventResource(ctx_r2.hoverTooltip.event), \" \");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_22_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.hoverTooltip.event.extendedProps[\"description\"], \" \");\n  }\n}\nfunction NgxTimelineCalendarComponent_div_22_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77)(1, \"span\", 78);\n    i0.ɵɵtext(2, \"\\uD83D\\uDD12 Exclusive\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NgxTimelineCalendarComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 68)(1, \"div\", 69);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 70)(4, \"span\", 71);\n    i0.ɵɵtext(5, \"\\uD83D\\uDD50\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, NgxTimelineCalendarComponent_div_22_div_7_Template, 4, 1, \"div\", 72)(8, NgxTimelineCalendarComponent_div_22_div_8_Template, 2, 1, \"div\", 73)(9, NgxTimelineCalendarComponent_div_22_div_9_Template, 3, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"left\", ctx_r2.hoverTooltip.x, \"px\")(\"top\", ctx_r2.hoverTooltip.y, \"px\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.hoverTooltip.event.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatEventTime(ctx_r2.hoverTooltip.event), \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.getEventResource(ctx_r2.hoverTooltip.event));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hoverTooltip.event.extendedProps && ctx_r2.hoverTooltip.event.extendedProps[\"description\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.eventOverlap === \"single\");\n  }\n}\nexport let NgxTimelineCalendarComponent = /*#__PURE__*/(() => {\n  class NgxTimelineCalendarComponent {\n    constructor(svc, cdr) {\n      this.svc = svc;\n      this.cdr = cdr;\n      // ===== INPUTS =====\n      this.events = [];\n      this.resources = [];\n      this.initialView = 'resourceTimelineWeek';\n      this.initialDate = null;\n      this.theme = 'light';\n      this.slotMinWidth = 60;\n      this.slotDuration = '01:00:00';\n      /** '12h' = AM/PM labels (default), '24h' = 00:00–23:00 labels */\n      this.timeFormat = '12h';\n      this.resourceAreaWidth = 200;\n      this.resourceAreaHeaderContent = 'Resources';\n      this.headerHeight = 52;\n      this.rowHeight = 40;\n      this.eventHeight = 28;\n      this.showToolbar = true;\n      this.showViewSwitcher = true;\n      this.showNowIndicator = true;\n      this.selectable = true;\n      this.selectMinDuration = 900000;\n      this.editable = true;\n      this.defaultEventColor = '#3d91ff';\n      this.showEventTooltip = true;\n      this.tooltipDelay = 300; // ms before tooltip shows\n      /**\n       * 'multiple' (default) — events overlap freely in the same row\n       * 'single'             — only one event per time slot per resource;\n       *                        overlapping events are shown with a red hatch\n       *                        and drag is blocked for blocked events\n       */\n      this.eventOverlap = 'multiple';\n      /**\n       * true (default) — dragging an event up/down moves it to a different resource row.\n       * false          — drag is horizontal-only; resource never changes.\n       */\n      this.allowResourceDrag = true;\n      // ===== OUTPUTS =====\n      this.eventClick = new EventEmitter();\n      this.eventChange = new EventEmitter();\n      this.dateClick = new EventEmitter();\n      this.select = new EventEmitter();\n      this.selecting = new EventEmitter();\n      this.viewChange = new EventEmitter();\n      this.datesSet = new EventEmitter();\n      // ===== STATE =====\n      this.currentView = 'resourceTimelineWeek';\n      this.currentDate = new Date();\n      this.currentTitle = '';\n      this.slots = [];\n      this.headerTier1 = [];\n      this.slotWidth = 60;\n      this.totalWidth = 0;\n      this.flatResources = [];\n      this.selectedEventId = null;\n      this.dragState = null;\n      this.dragTargetResourceId = null;\n      this.resizeState = null;\n      this.nowVisible = false;\n      this.nowLeft = 0;\n      // drag-to-select\n      this.selState = null;\n      this.selResource = null;\n      this.tooltipX = 0;\n      this.tooltipY = 0;\n      this.tooltipVisible = false;\n      this.isSelecting = false;\n      this.selMoved = false;\n      // event hover tooltip\n      this.hoverTooltip = null;\n      this.hoverTimer = null;\n      this.prevEventsLength = 0;\n    }\n    // ===== LIFECYCLE =====\n    ngOnInit() {\n      this.currentView = this.initialView;\n      this.currentDate = this.initialDate ? new Date(this.initialDate) : new Date();\n      this.flattenResources();\n      this.buildTimeline();\n      this.updateNow();\n      if (this.showNowIndicator) {\n        this.nowTimer = setInterval(() => {\n          this.updateNow();\n          this.cdr.markForCheck();\n        }, 30000);\n      }\n      this.mouseMoveListener = e => this.onGlobalMouseMove(e);\n      this.mouseUpListener = e => this.onGlobalMouseUp(e);\n      document.addEventListener('mousemove', this.mouseMoveListener);\n      document.addEventListener('mouseup', this.mouseUpListener);\n    }\n    ngOnChanges(changes) {\n      if (changes['resources']) this.flattenResources();\n      if (changes['initialView'] && !changes['initialView'].firstChange) this.currentView = this.initialView;\n      if (changes['slotDuration'] || changes['slotMinWidth'] || changes['initialView'] || changes['resources']) this.buildTimeline();\n    }\n    ngDoCheck() {\n      if (this.events && this.events.length !== this.prevEventsLength) {\n        this.prevEventsLength = this.events.length;\n        this.cdr.markForCheck();\n      }\n    }\n    ngOnDestroy() {\n      clearInterval(this.nowTimer);\n      clearTimeout(this.hoverTimer);\n      document.removeEventListener('mousemove', this.mouseMoveListener);\n      document.removeEventListener('mouseup', this.mouseUpListener);\n    }\n    // ===== NAVIGATION =====\n    goToToday() {\n      this.currentDate = new Date();\n      this.buildTimeline();\n    }\n    navigate(dir) {\n      const d = new Date(this.currentDate);\n      if (this.currentView === 'resourceTimelineDay') d.setDate(d.getDate() + dir);\n      if (this.currentView === 'resourceTimelineWeek') d.setDate(d.getDate() + dir * 7);\n      if (this.currentView === 'resourceTimelineMonth') d.setMonth(d.getMonth() + dir);\n      this.currentDate = d;\n      this.buildTimeline();\n    }\n    setView(view) {\n      this.currentView = view;\n      this.buildTimeline();\n      this.viewChange.emit({\n        view,\n        start: this.getViewStart(),\n        end: this.getViewEnd()\n      });\n    }\n    buildTimeline() {\n      const r = this.svc.buildTimeline(this.currentView, this.currentDate, this.slotDuration, this.slotMinWidth);\n      this.slots = r.slots;\n      this.headerTier1 = r.tier1;\n      this.slotWidth = r.slotWidth;\n      this.totalWidth = r.totalWidth;\n      this.currentTitle = r.title;\n      this.updateNow();\n      this.cdr.markForCheck();\n      this.datesSet.emit({\n        view: this.currentView,\n        start: this.getViewStart(),\n        end: this.getViewEnd(),\n        title: this.currentTitle\n      });\n    }\n    // ===== RESOURCES =====\n    flattenResources() {\n      this.flatResources = [];\n      const flatten = (list, level) => {\n        for (const r of list) {\n          const hasChildren = !!(r.children && r.children.length);\n          const existing = this.flatResources.find(f => f.id === r.id);\n          const expanded = existing ? existing.expanded : true;\n          this.flatResources.push({\n            id: r.id,\n            title: r.title,\n            level,\n            isGroup: hasChildren,\n            expanded,\n            children: r.children,\n            extendedProps: r.extendedProps,\n            original: r\n          });\n          if (hasChildren && expanded) flatten(r.children, level + 1);\n        }\n      };\n      flatten(this.resources, 0);\n    }\n    toggleResource(res) {\n      res.expanded = !res.expanded;\n      this.flattenResources();\n      this.cdr.markForCheck();\n    }\n    // ===== EVENTS =====\n    getResourceEvents(resourceId) {\n      const vs = this.getViewStart().getTime();\n      const ve = this.getViewEnd().getTime();\n      return this.events.filter(e => {\n        // must belong to this resource\n        const inResource = e.resourceId === resourceId || e.resourceIds && e.resourceIds.indexOf(resourceId) > -1;\n        if (!inResource) return false;\n        // must overlap the current view range (start < viewEnd AND end > viewStart)\n        const es = new Date(e.start).getTime();\n        const ee = e.end ? new Date(e.end).getTime() : es + 3600000;\n        return es < ve && ee > vs;\n      });\n    }\n    getEventLeft(evt) {\n      const vs = this.getViewStart(),\n        ve = this.getViewEnd(),\n        t = ve.getTime() - vs.getTime();\n      if (t <= 0) return 0;\n      return Math.max(0, new Date(evt.start).getTime() - vs.getTime()) / t * this.totalWidth;\n    }\n    getEventWidth(evt) {\n      const vs = this.getViewStart(),\n        ve = this.getViewEnd();\n      const es = new Date(evt.start),\n        ee = evt.end ? new Date(evt.end) : new Date(es.getTime() + 3600000);\n      const t = ve.getTime() - vs.getTime();\n      if (t <= 0) return 4;\n      // clamp end to view end\n      const clampedEnd = Math.min(ee.getTime(), ve.getTime());\n      const clampedStart = Math.max(es.getTime(), vs.getTime());\n      return Math.max(4, (clampedEnd - clampedStart) / t * this.totalWidth);\n    }\n    getEventTop() {\n      return Math.floor((this.rowHeight - this.eventHeight) / 2);\n    }\n    /**\n     * In 'single' mode: stack overlapping events vertically (each gets narrower height).\n     * In 'multiple' mode: all events sit at the same top (they visually overlap).\n     */\n    getEventTopStacked(evt, resourceId, eventIndex) {\n      if (this.eventOverlap === 'multiple') return this.getEventTop();\n      const siblings = this.getResourceEvents(resourceId);\n      // find how many events overlap with this one that come before it in the list\n      const evtStart = new Date(evt.start).getTime();\n      const evtEnd = evt.end ? new Date(evt.end).getTime() : evtStart + 3600000;\n      let lane = 0;\n      for (let i = 0; i < eventIndex; i++) {\n        const s = new Date(siblings[i].start).getTime();\n        const e = siblings[i].end ? new Date(siblings[i].end).getTime() : s + 3600000;\n        if (s < evtEnd && e > evtStart) lane++;\n      }\n      const laneH = this.eventHeight + 2;\n      const totalH = lane * laneH;\n      const base = Math.floor((this.rowHeight - this.eventHeight) / 2);\n      return Math.min(base + totalH, this.rowHeight - this.eventHeight - 1);\n    }\n    /**\n     * In single mode, return true if this event overlaps another event in same resource.\n     * The FIRST event in a slot wins; all subsequent overlapping events are \"blocked\".\n     */\n    isBlocked(evt, resourceId) {\n      if (this.eventOverlap !== 'single') return false;\n      const siblings = this.getResourceEvents(resourceId);\n      const idx = siblings.findIndex(e => e.id === evt.id);\n      if (idx <= 0) return false;\n      const evtStart = new Date(evt.start).getTime();\n      const evtEnd = evt.end ? new Date(evt.end).getTime() : evtStart + 3600000;\n      for (let i = 0; i < idx; i++) {\n        const s = new Date(siblings[i].start).getTime();\n        const e = siblings[i].end ? new Date(siblings[i].end).getTime() : s + 3600000;\n        if (s < evtEnd && e > evtStart) return true;\n      }\n      return false;\n    }\n    // ===== HOVER TOOLTIP =====\n    onEventMouseEnter(e, evt) {\n      if (!this.showEventTooltip) return;\n      clearTimeout(this.hoverTimer);\n      this.hoverTimer = setTimeout(() => {\n        const pos = this.tooltipPosFromMouse(e);\n        this.hoverTooltip = {\n          event: evt,\n          x: pos.x,\n          y: pos.y,\n          visible: true\n        };\n        this.cdr.markForCheck();\n      }, this.tooltipDelay);\n    }\n    onEventMouseMove(e) {\n      if (!this.hoverTooltip || !this.hoverTooltip.visible) return;\n      const pos = this.tooltipPosFromMouse(e);\n      this.hoverTooltip = Object.assign({}, this.hoverTooltip, {\n        x: pos.x,\n        y: pos.y\n      });\n      this.cdr.markForCheck();\n    }\n    onEventMouseLeave() {\n      clearTimeout(this.hoverTimer);\n      this.hoverTooltip = null;\n      this.cdr.markForCheck();\n    }\n    tooltipPosFromMouse(e) {\n      const wrap = this.wrapEl?.nativeElement;\n      if (!wrap) return {\n        x: e.clientX,\n        y: e.clientY\n      };\n      const rect = wrap.getBoundingClientRect();\n      return {\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      };\n    }\n    getEventResource(evt) {\n      if (!evt.resourceId) return '';\n      const res = this.flatResources.find(r => r.id === evt.resourceId);\n      return res ? res.title : evt.resourceId;\n    }\n    // ===== SELECTION BOX HELPERS =====\n    getSelLeft() {\n      if (!this.selState) return 0;\n      return Math.min(this.selState.startX, this.selState.currentX);\n    }\n    getSelWidth() {\n      if (!this.selState) return 0;\n      return Math.max(2, Math.abs(this.selState.currentX - this.selState.startX));\n    }\n    getSelLabel() {\n      if (!this.selState) return '';\n      const [s, e] = this.selState.startDate <= this.selState.endDate ? [this.selState.startDate, this.selState.endDate] : [this.selState.endDate, this.selState.startDate];\n      return this.fmtRange(s, e);\n    }\n    fmtRange(start, end) {\n      const fmtTime = d => {\n        const h = d.getHours() % 12 || 12,\n          m = d.getMinutes(),\n          p = d.getHours() >= 12 ? 'PM' : 'AM';\n        return h + (m ? ':' + (m < 10 ? '0' + m : m) : '') + '\\u202f' + p;\n      };\n      const fmtDate = d => {\n        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n        return days[d.getDay()] + ' ' + d.getDate() + '/' + (d.getMonth() + 1);\n      };\n      if (this.currentView === 'resourceTimelineDay') return fmtTime(start) + ' \\u2013 ' + fmtTime(end);\n      return fmtDate(start) + ' \\u2013 ' + fmtDate(end);\n    }\n    // ===== GRID MOUSEDOWN =====\n    onGridMouseDown(e, res) {\n      if (e.target.closest('.ntc-evt')) return;\n      if (e.target.closest('.ntc-resize')) return;\n      if (!this.selectable || res.isGroup) return;\n      e.preventDefault();\n      const x = this.gridX(e);\n      const date = this.dateFromX(x);\n      this.isSelecting = true;\n      this.selMoved = false;\n      this.selResource = res;\n      this.selState = {\n        resourceId: res.id,\n        startX: x,\n        currentX: x,\n        startDate: date,\n        endDate: date\n      };\n      this.tooltipVisible = false;\n      this.cdr.markForCheck();\n    }\n    // ===== SCROLL =====\n    onScroll(e) {\n      const el = e.target;\n      if (this.resRowsEl) this.resRowsEl.nativeElement.scrollTop = el.scrollTop;\n    }\n    // ===== EVENT CLICK =====\n    onEventClick(e, evt) {\n      if (this.isBlocked(evt, evt.resourceId || '')) return;\n      e.stopPropagation();\n      this.selectedEventId = evt.id;\n      this.eventClick.emit({\n        event: evt,\n        el: e.currentTarget,\n        jsEvent: e\n      });\n      this.cdr.markForCheck();\n    }\n    // ===== EVENT DRAG =====\n    onEventMouseDown(e, evt) {\n      if (!this.editable || evt.editable === false || evt.startEditable === false) return;\n      if (this.isBlocked(evt, evt.resourceId || '')) return;\n      e.preventDefault();\n      e.stopPropagation();\n      this.hoverTooltip = null;\n      this.dragState = {\n        eventId: evt.id,\n        originalEvent: this.clone(evt),\n        startX: e.clientX,\n        startY: e.clientY,\n        sourceResourceId: evt.resourceId || ''\n      };\n      this.dragTargetResourceId = evt.resourceId || null;\n      this.cdr.markForCheck();\n    }\n    // ===== RESIZE =====\n    onResizeStart(e, evt, handle) {\n      if (!this.editable || evt.editable === false) return;\n      e.preventDefault();\n      e.stopPropagation();\n      this.hoverTooltip = null;\n      this.resizeState = {\n        eventId: evt.id,\n        handle,\n        originalEvent: this.clone(evt),\n        startX: e.clientX\n      };\n      this.cdr.markForCheck();\n    }\n    // ===== GLOBAL MOUSE MOVE =====\n    onGlobalMouseMove(e) {\n      const viewStart = this.getViewStart();\n      const viewEnd = this.getViewEnd();\n      const totalMs = viewEnd.getTime() - viewStart.getTime();\n      // --- drag-to-select ---\n      if (this.isSelecting && this.selState) {\n        // Clamp X to grid width so selection never goes past end of view\n        const x = Math.max(0, Math.min(this.totalWidth, this.gridX(e)));\n        const date = this.dateFromX(x);\n        const moved = Math.abs(x - this.selState.startX) > 3;\n        if (moved) {\n          this.selMoved = true;\n          this.autoScrollOnDrag(e); // auto-scroll when near edges\n          this.selState = Object.assign({}, this.selState, {\n            currentX: x,\n            endDate: date\n          });\n          const el = this.timelineEl?.nativeElement;\n          if (el) {\n            const midX = (Math.min(this.selState.startX, x) + Math.max(this.selState.startX, x)) / 2;\n            const rect = el.getBoundingClientRect();\n            this.tooltipX = midX - el.scrollLeft + this.resourceAreaWidth;\n            this.tooltipY = this.headerHeight + 6;\n            this.tooltipVisible = true;\n          }\n          const [s, en] = this.normalizedSel();\n          this.selecting.emit({\n            start: s,\n            end: en,\n            resource: this.selResource?.original\n          });\n          this.cdr.markForCheck();\n        }\n        return;\n      }\n      if (totalMs <= 0 || this.totalWidth <= 0) return;\n      const msPerPx = totalMs / this.totalWidth;\n      // --- event drag (clamped to view boundaries) ---\n      if (this.dragState) {\n        const dx = e.clientX - this.dragState.startX;\n        const deltaMs = dx * msPerPx;\n        const idx = this.findIdx(this.dragState.eventId);\n        // Detect which resource row the cursor is over (for cross-row drag)\n        if (this.allowResourceDrag) {\n          const targetRes = this.resourceAtY(e);\n          this.dragTargetResourceId = targetRes ? targetRes.id : this.dragState.sourceResourceId;\n        }\n        if (idx > -1) {\n          const orig = this.dragState.originalEvent;\n          const os = new Date(orig.start).getTime();\n          const dur = (orig.end ? new Date(orig.end).getTime() : os + 3600000) - os;\n          // Clamp to view boundaries\n          let newStartMs = os + deltaMs;\n          newStartMs = Math.max(viewStart.getTime(), newStartMs);\n          newStartMs = Math.min(viewEnd.getTime() - dur, newStartMs);\n          const targetResourceId = this.allowResourceDrag ? this.dragTargetResourceId || this.dragState.sourceResourceId : this.dragState.sourceResourceId;\n          // --- Single-mode overlap guard ---\n          if (this.eventOverlap === 'single') {\n            const newStart = new Date(newStartMs);\n            const newEnd = new Date(newStartMs + dur);\n            const siblings = this.getResourceEvents(targetResourceId).filter(ev => ev.id !== this.dragState.eventId);\n            const wouldOverlap = siblings.some(sib => {\n              const ss = new Date(sib.start).getTime();\n              const se = sib.end ? new Date(sib.end).getTime() : ss + 3600000;\n              return ss < newEnd.getTime() && se > newStart.getTime();\n            });\n            if (wouldOverlap) {\n              this.cdr.markForCheck();\n              return; // refuse the move — keep current position\n            }\n          }\n          const ns = new Date(newStartMs);\n          this.events = this.events.slice();\n          this.events[idx] = Object.assign({}, this.events[idx], {\n            start: ns,\n            end: new Date(ns.getTime() + dur),\n            resourceId: targetResourceId\n          });\n          this.cdr.markForCheck();\n        }\n      }\n      // --- resize (clamped to view boundaries) ---\n      if (this.resizeState) {\n        const dx = e.clientX - this.resizeState.startX;\n        const deltaMs = dx * msPerPx;\n        const idx = this.findIdx(this.resizeState.eventId);\n        if (idx > -1) {\n          const orig = this.resizeState.originalEvent;\n          const os = new Date(orig.start).getTime();\n          const oe = orig.end ? new Date(orig.end).getTime() : os + 3600000;\n          this.events = this.events.slice();\n          if (this.resizeState.handle === 'end') {\n            // end cannot exceed viewEnd\n            const ne = Math.min(viewEnd.getTime(), oe + deltaMs);\n            if (ne - os >= 900000) this.events[idx] = Object.assign({}, this.events[idx], {\n              end: new Date(ne)\n            });\n          } else {\n            // start cannot go before viewStart\n            const ns = Math.max(viewStart.getTime(), os + deltaMs);\n            if (oe - ns >= 900000) this.events[idx] = Object.assign({}, this.events[idx], {\n              start: new Date(ns)\n            });\n          }\n          this.cdr.markForCheck();\n        }\n      }\n    }\n    // ===== GLOBAL MOUSE UP =====\n    onGlobalMouseUp(e) {\n      if (this.isSelecting) {\n        const moved = this.selMoved,\n          state = this.selState,\n          resource = this.selResource?.original;\n        this.isSelecting = false;\n        this.selMoved = false;\n        this.tooltipVisible = false;\n        this.selState = null;\n        this.selResource = null;\n        if (moved && state) {\n          const [s, en] = this.normalizedSelFrom(state);\n          if (en.getTime() - s.getTime() >= this.selectMinDuration) {\n            this.select.emit({\n              start: s,\n              end: en,\n              resource\n            });\n          }\n        }\n        this.cdr.markForCheck();\n        return;\n      }\n      if (this.dragState) {\n        const idx = this.findIdx(this.dragState.eventId);\n        if (idx > -1) {\n          const newEvt = this.events[idx],\n            oldEvt = this.dragState.originalEvent;\n          const timeChanged = new Date(newEvt.start).getTime() !== new Date(oldEvt.start).getTime();\n          const resourceChanged = newEvt.resourceId !== oldEvt.resourceId;\n          if (timeChanged || resourceChanged) {\n            const ci = idx;\n            this.eventChange.emit({\n              event: newEvt,\n              oldEvent: oldEvt,\n              revert: () => {\n                this.events = this.events.slice();\n                this.events[ci] = oldEvt;\n                this.cdr.markForCheck();\n              }\n            });\n          }\n        }\n        this.dragState = null;\n        this.dragTargetResourceId = null;\n        this.cdr.markForCheck();\n      }\n      if (this.resizeState) {\n        const idx = this.findIdx(this.resizeState.eventId);\n        if (idx > -1) {\n          const ci = idx,\n            oldEvt = this.resizeState.originalEvent;\n          this.eventChange.emit({\n            event: this.events[idx],\n            oldEvent: oldEvt,\n            revert: () => {\n              this.events = this.events.slice();\n              this.events[ci] = oldEvt;\n              this.cdr.markForCheck();\n            }\n          });\n        }\n        this.resizeState = null;\n        this.cdr.markForCheck();\n      }\n    }\n    // ===== COORDINATE UTILS =====\n    gridX(e) {\n      const el = this.timelineEl?.nativeElement;\n      if (!el) return 0;\n      const rect = el.getBoundingClientRect();\n      return Math.max(0, Math.min(this.totalWidth, e.clientX - rect.left + el.scrollLeft));\n    }\n    dateFromX(x) {\n      const s = this.getViewStart();\n      const en = this.getViewEnd();\n      const totalMs = en.getTime() - s.getTime();\n      // x at or beyond totalWidth = exactly end of view (end of scrollbar)\n      if (x >= this.totalWidth) return new Date(en);\n      if (x <= 0) return new Date(s);\n      const pct = x / this.totalWidth;\n      const rawMs = pct * totalMs;\n      if (this.currentView === 'resourceTimelineDay') {\n        const slotMs = this.svc.slotMs(this.slotDuration);\n        const snapped = Math.round(rawMs / slotMs) * slotMs;\n        return new Date(s.getTime() + Math.min(snapped, totalMs));\n      }\n      const dayMs = 86400000;\n      const snapped = Math.round(rawMs / dayMs) * dayMs;\n      return new Date(s.getTime() + Math.min(snapped, totalMs));\n    }\n    // Map a mouse Y position to whichever FlatResource row the cursor is over\n    resourceAtY(e) {\n      const el = this.timelineEl?.nativeElement;\n      if (!el) return null;\n      const rect = el.getBoundingClientRect();\n      // Y relative to grid (below sticky header)\n      const yInGrid = e.clientY - rect.top - this.headerHeight + el.scrollTop;\n      if (yInGrid < 0) return null;\n      const rowIdx = Math.floor(yInGrid / this.rowHeight);\n      const res = this.flatResources[rowIdx];\n      // Don't allow dropping onto group rows\n      if (!res || res.isGroup) return null;\n      return res;\n    }\n    // Auto-scroll timeline when dragging near edges\n    autoScrollOnDrag(e) {\n      const el = this.timelineEl?.nativeElement;\n      if (!el) return;\n      const rect = el.getBoundingClientRect();\n      const zone = 60;\n      const speed = 12;\n      const dRight = rect.right - e.clientX;\n      const dLeft = e.clientX - rect.left;\n      if (dRight < zone && dRight > 0) el.scrollLeft += speed * (1 - dRight / zone);else if (dLeft < zone && dLeft > 0) el.scrollLeft -= speed * (1 - dLeft / zone);\n    }\n    normalizedSel() {\n      if (!this.selState) return [new Date(), new Date()];\n      return this.normalizedSelFrom(this.selState);\n    }\n    normalizedSelFrom(state) {\n      return state.startDate <= state.endDate ? [state.startDate, state.endDate] : [state.endDate, state.startDate];\n    }\n    // ===== VIEW RANGE =====\n    getViewStart() {\n      return this.svc.getViewStart(this.currentView, this.currentDate);\n    }\n    getViewEnd() {\n      return this.svc.getViewEnd(this.currentView, this.currentDate);\n    }\n    // ===== FORMAT =====\n    formatEventTime(evt) {\n      const s = new Date(evt.start),\n        e = evt.end ? new Date(evt.end) : null;\n      const fmt = d => {\n        if (this.timeFormat === '24h') {\n          const h = d.getHours(),\n            m = d.getMinutes();\n          return (h < 10 ? '0' + h : '' + h) + ':' + (m < 10 ? '0' + m : '' + m);\n        }\n        const h = d.getHours() % 12 || 12,\n          m = d.getMinutes(),\n          p = d.getHours() >= 12 ? 'PM' : 'AM';\n        return h + (m ? ':' + (m < 10 ? '0' + m : m) : '') + '\\u202f' + p;\n      };\n      return e ? fmt(s) + ' \\u2013 ' + fmt(e) : fmt(s);\n    }\n    updateNow() {\n      const now = new Date(),\n        s = this.getViewStart(),\n        e = this.getViewEnd();\n      this.nowVisible = now >= s && now <= e;\n      if (this.nowVisible && this.totalWidth > 0) this.nowLeft = (now.getTime() - s.getTime()) / (e.getTime() - s.getTime()) * this.totalWidth;\n    }\n    findIdx(id) {\n      return this.events.findIndex(e => e.id === id);\n    }\n    clone(evt) {\n      return Object.assign({}, evt, {\n        start: new Date(evt.start),\n        end: evt.end ? new Date(evt.end) : undefined\n      });\n    }\n    // ===== PUBLIC API =====\n    today() {\n      this.goToToday();\n    }\n    prev() {\n      this.navigate(-1);\n    }\n    next() {\n      this.navigate(1);\n    }\n    changeView(view) {\n      this.setView(view);\n    }\n    getDate() {\n      return new Date(this.currentDate);\n    }\n    addEvent(event) {\n      this.events = this.events.concat([event]);\n      this.cdr.markForCheck();\n    }\n    removeEvent(id) {\n      this.events = this.events.filter(e => e.id !== id);\n      this.cdr.markForCheck();\n    }\n    updateEvent(u) {\n      const i = this.findIdx(u.id);\n      if (i > -1) {\n        this.events = this.events.slice();\n        this.events[i] = u;\n        this.cdr.markForCheck();\n      }\n    }\n    clearSelection() {\n      this.selState = null;\n      this.isSelecting = false;\n      this.cdr.markForCheck();\n    }\n    scrollToTime(t) {\n      if (!this.timelineEl) return;\n      const [h, m] = t.split(':').map(Number);\n      this.timelineEl.nativeElement.scrollLeft = (h * 60 + m) / 1440 * this.totalWidth;\n    }\n    refetchEvents() {\n      this.cdr.markForCheck();\n    }\n    static {\n      this.ɵfac = function NgxTimelineCalendarComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || NgxTimelineCalendarComponent)(i0.ɵɵdirectiveInject(i1.NgxTimelineCalendarService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: NgxTimelineCalendarComponent,\n        selectors: [[\"ngx-timeline-calendar\"]],\n        viewQuery: function NgxTimelineCalendarComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5)(_c1, 5)(_c2, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.timelineEl = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resRowsEl = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.wrapEl = _t.first);\n          }\n        },\n        inputs: {\n          events: \"events\",\n          resources: \"resources\",\n          initialView: \"initialView\",\n          initialDate: \"initialDate\",\n          theme: \"theme\",\n          slotMinWidth: \"slotMinWidth\",\n          slotDuration: \"slotDuration\",\n          timeFormat: \"timeFormat\",\n          resourceAreaWidth: \"resourceAreaWidth\",\n          resourceAreaHeaderContent: \"resourceAreaHeaderContent\",\n          headerHeight: \"headerHeight\",\n          rowHeight: \"rowHeight\",\n          eventHeight: \"eventHeight\",\n          showToolbar: \"showToolbar\",\n          showViewSwitcher: \"showViewSwitcher\",\n          showNowIndicator: \"showNowIndicator\",\n          selectable: \"selectable\",\n          selectMinDuration: \"selectMinDuration\",\n          editable: \"editable\",\n          defaultEventColor: \"defaultEventColor\",\n          showEventTooltip: \"showEventTooltip\",\n          tooltipDelay: \"tooltipDelay\",\n          eventOverlap: \"eventOverlap\",\n          allowResourceDrag: \"allowResourceDrag\"\n        },\n        outputs: {\n          eventClick: \"eventClick\",\n          eventChange: \"eventChange\",\n          dateClick: \"dateClick\",\n          select: \"select\",\n          selecting: \"selecting\",\n          viewChange: \"viewChange\",\n          datesSet: \"datesSet\"\n        },\n        standalone: false,\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 23,\n        vars: 19,\n        consts: [[\"wrapEl\", \"\"], [\"resRows\", \"\"], [\"timelineEl\", \"\"], [1, \"ntc-wrap\", 3, \"ngClass\"], [\"class\", \"ntc-toolbar\", 4, \"ngIf\"], [1, \"ntc-body\"], [1, \"ntc-res-col\"], [1, \"ntc-res-header\"], [1, \"ntc-res-header-text\"], [1, \"ntc-res-rows\"], [\"class\", \"ntc-res-row\", 3, \"ngClass\", \"height\", \"paddingLeft\", 4, \"ngFor\", \"ngForOf\"], [1, \"ntc-timeline\", 3, \"scroll\"], [1, \"ntc-hdr\"], [1, \"ntc-hdr-tier\", \"ntc-hdr-tier1\"], [\"class\", \"ntc-hdr-cell ntc-hdr-cell-lg\", 3, \"width\", 4, \"ngFor\", \"ngForOf\"], [1, \"ntc-hdr-tier\", \"ntc-hdr-tier2\"], [\"class\", \"ntc-hdr-cell\", 3, \"width\", \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"ntc-hdr-cell\", \"ntc-hdr-filler\"], [1, \"ntc-grid\"], [\"class\", \"ntc-grid-row\", 3, \"ngClass\", \"height\", \"cursor\", \"mousedown\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ntc-sel-tooltip\", 3, \"left\", \"top\", 4, \"ngIf\"], [\"class\", \"ntc-evt-tooltip\", 3, \"left\", \"top\", 4, \"ngIf\"], [1, \"ntc-toolbar\"], [1, \"ntc-toolbar-left\"], [\"type\", \"button\", 1, \"ntc-btn\", \"ntc-btn-today\", 3, \"click\"], [1, \"ntc-nav-group\"], [\"type\", \"button\", 1, \"ntc-btn\", \"ntc-btn-nav\", 3, \"click\"], [1, \"ntc-title\"], [\"class\", \"ntc-toolbar-right\", 4, \"ngIf\"], [1, \"ntc-toolbar-right\"], [1, \"ntc-view-group\"], [\"type\", \"button\", 1, \"ntc-btn\", \"ntc-btn-view\", 3, \"click\", \"ngClass\"], [1, \"ntc-res-row\", 3, \"ngClass\"], [\"class\", \"ntc-expand-btn\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"ntc-res-info\"], [1, \"ntc-res-name\"], [\"class\", \"ntc-res-sub\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"ntc-expand-btn\", 3, \"click\"], [1, \"ntc-res-sub\"], [1, \"ntc-hdr-cell\", \"ntc-hdr-cell-lg\"], [1, \"ntc-hdr-cell\", 3, \"ngClass\"], [1, \"ntc-grid-row\", 3, \"mousedown\", \"ngClass\"], [1, \"ntc-bg-cols\"], [\"class\", \"ntc-bg-col\", 3, \"width\", \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"ntc-bg-filler\"], [\"class\", \"ntc-sel-box\", 3, \"left\", \"width\", \"top\", \"height\", 4, \"ngIf\"], [1, \"ntc-evts-layer\"], [\"class\", \"ntc-evt\", 3, \"ngClass\", \"left\", \"width\", \"top\", \"height\", \"backgroundColor\", \"borderColor\", \"color\", \"mousedown\", \"click\", \"mouseenter\", \"mouseleave\", \"mousemove\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ntc-now-line\", 3, \"left\", 4, \"ngIf\"], [1, \"ntc-bg-col\", 3, \"ngClass\"], [1, \"ntc-sel-box\"], [1, \"ntc-sel-label\"], [1, \"ntc-evt\", 3, \"mousedown\", \"click\", \"mouseenter\", \"mouseleave\", \"mousemove\", \"ngClass\"], [1, \"ntc-evt-inner\"], [1, \"ntc-evt-title\"], [\"class\", \"ntc-evt-time\", 4, \"ngIf\"], [\"class\", \"ntc-resize ntc-resize-end\", 3, \"mousedown\", 4, \"ngIf\"], [\"class\", \"ntc-resize ntc-resize-start\", 3, \"mousedown\", 4, \"ngIf\"], [1, \"ntc-evt-time\"], [1, \"ntc-resize\", \"ntc-resize-end\", 3, \"mousedown\"], [1, \"ntc-resize-grip\"], [1, \"ntc-resize\", \"ntc-resize-start\", 3, \"mousedown\"], [1, \"ntc-now-line\"], [1, \"ntc-sel-tooltip\"], [1, \"ntc-sel-tooltip-row\"], [\"class\", \"ntc-sel-tooltip-res\", 4, \"ngIf\"], [1, \"ntc-sel-tooltip-hint\"], [1, \"ntc-sel-tooltip-res\"], [1, \"ntc-evt-tooltip\"], [1, \"ntc-evt-tooltip-title\"], [1, \"ntc-evt-tooltip-time\"], [1, \"ntc-evt-tooltip-icon\"], [\"class\", \"ntc-evt-tooltip-res\", 4, \"ngIf\"], [\"class\", \"ntc-evt-tooltip-extra\", 4, \"ngIf\"], [\"class\", \"ntc-evt-tooltip-mode\", 4, \"ngIf\"], [1, \"ntc-evt-tooltip-res\"], [1, \"ntc-evt-tooltip-extra\"], [1, \"ntc-evt-tooltip-mode\"], [1, \"ntc-evt-tooltip-badge\"]],\n        template: function NgxTimelineCalendarComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 3, 0);\n            i0.ɵɵtemplate(2, NgxTimelineCalendarComponent_div_2_Template, 12, 2, \"div\", 4);\n            i0.ɵɵelementStart(3, \"div\", 5)(4, \"div\", 6)(5, \"div\", 7)(6, \"span\", 8);\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 9, 1);\n            i0.ɵɵtemplate(10, NgxTimelineCalendarComponent_div_10_Template, 6, 10, \"div\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 11, 2);\n            i0.ɵɵlistener(\"scroll\", function NgxTimelineCalendarComponent_Template_div_scroll_11_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onScroll($event));\n            });\n            i0.ɵɵelementStart(13, \"div\", 12)(14, \"div\", 13);\n            i0.ɵɵtemplate(15, NgxTimelineCalendarComponent_div_15_Template, 2, 3, \"div\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 15);\n            i0.ɵɵtemplate(17, NgxTimelineCalendarComponent_div_17_Template, 2, 7, \"div\", 16);\n            i0.ɵɵelement(18, \"div\", 17);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 18);\n            i0.ɵɵtemplate(20, NgxTimelineCalendarComponent_div_20_Template, 8, 13, \"div\", 19);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(21, NgxTimelineCalendarComponent_div_21_Template, 9, 6, \"div\", 20)(22, NgxTimelineCalendarComponent_div_22_Template, 10, 9, \"div\", 21);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngClass\", \"ntc-theme-\" + ctx.theme);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.showToolbar);\n            i0.ɵɵadvance(2);\n            i0.ɵɵstyleProp(\"width\", ctx.resourceAreaWidth, \"px\");\n            i0.ɵɵadvance();\n            i0.ɵɵstyleProp(\"height\", ctx.headerHeight, \"px\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.resourceAreaHeaderContent);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.flatResources);\n            i0.ɵɵadvance(3);\n            i0.ɵɵstyleProp(\"height\", ctx.headerHeight, \"px\")(\"min-width\", ctx.totalWidth, \"px\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.headerTier1);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.slots);\n            i0.ɵɵadvance(2);\n            i0.ɵɵstyleProp(\"min-width\", ctx.totalWidth, \"px\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.flatResources);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selState && ctx.tooltipVisible);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.hoverTooltip && ctx.hoverTooltip.visible);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n        styles: [\"[_nghost-%COMP%]{display:block;--ntc-primary: #3d91ff;--ntc-bg: #ffffff;--ntc-surface: #f8f9fa;--ntc-border: #dee2e6;--ntc-border-lt: #e9ecef;--ntc-text: #212529;--ntc-muted: #6c757d;--ntc-hdr-bg: #f8f9fa;--ntc-row-bg: #ffffff;--ntc-row-alt: #fafbfc;--ntc-grp-bg: #eef2f7;--ntc-weekend-bg: rgba(0,0,0,.018);--ntc-today-bg: rgba(61,145,255,.09);--ntc-today-bdr: rgba(61,145,255,.4);--ntc-now: #ff4757;--ntc-sel-bg: rgba(61,145,255,.15);--ntc-sel-bdr: rgba(61,145,255,.65);--ntc-radius: 4px}.ntc-theme-dark[_ngcontent-%COMP%]{--ntc-bg: #1a1d23;--ntc-surface: #22262f;--ntc-border: #2e3341;--ntc-border-lt: #252931;--ntc-text: #e8eaf0;--ntc-muted: #8892a4;--ntc-hdr-bg: #1e2229;--ntc-row-bg: #1a1d23;--ntc-row-alt: #1d2028;--ntc-grp-bg: #1e2229;--ntc-weekend-bg: rgba(255,255,255,.012);--ntc-today-bg: rgba(61,145,255,.13);--ntc-sel-bg: rgba(61,145,255,.22)}.ntc-wrap[_ngcontent-%COMP%]{position:relative;background:var(--ntc-bg);color:var(--ntc-text);border:1px solid var(--ntc-border);border-radius:8px;overflow:hidden;height:100%;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:13px}.ntc-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;padding:10px 14px;border-bottom:1px solid var(--ntc-border);background:var(--ntc-hdr-bg);flex-shrink:0}.ntc-toolbar-left[_ngcontent-%COMP%], .ntc-toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.ntc-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin-left:6px;white-space:nowrap}.ntc-btn[_ngcontent-%COMP%]{border:1px solid var(--ntc-border);background:var(--ntc-bg);color:var(--ntc-text);padding:5px 13px;border-radius:var(--ntc-radius);cursor:pointer;font-size:13px;font-weight:500;line-height:1.5;transition:background .14s}.ntc-btn[_ngcontent-%COMP%]:hover{background:var(--ntc-surface)}.ntc-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--ntc-primary);outline-offset:1px}.ntc-nav-group[_ngcontent-%COMP%]{display:flex}.ntc-nav-group[_ngcontent-%COMP%]   .ntc-btn-nav[_ngcontent-%COMP%]{padding:5px 10px;font-size:17px;line-height:1}.ntc-nav-group[_ngcontent-%COMP%]   .ntc-btn-nav[_ngcontent-%COMP%]:first-child{border-radius:var(--ntc-radius) 0 0 var(--ntc-radius);border-right:none}.ntc-nav-group[_ngcontent-%COMP%]   .ntc-btn-nav[_ngcontent-%COMP%]:last-child{border-radius:0 var(--ntc-radius) var(--ntc-radius) 0}.ntc-view-group[_ngcontent-%COMP%]{display:flex}.ntc-view-group[_ngcontent-%COMP%]   .ntc-btn-view[_ngcontent-%COMP%]{border-radius:0;border-right:none}.ntc-view-group[_ngcontent-%COMP%]   .ntc-btn-view[_ngcontent-%COMP%]:first-child{border-radius:var(--ntc-radius) 0 0 var(--ntc-radius)}.ntc-view-group[_ngcontent-%COMP%]   .ntc-btn-view[_ngcontent-%COMP%]:last-child{border-radius:0 var(--ntc-radius) var(--ntc-radius) 0;border-right:1px solid var(--ntc-border)}.ntc-view-group[_ngcontent-%COMP%]   .ntc-btn-view.ntc-active[_ngcontent-%COMP%]{background:var(--ntc-primary);color:#fff;border-color:var(--ntc-primary)}.ntc-body[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden;min-height:0}.ntc-res-col[_ngcontent-%COMP%]{flex-shrink:0;border-right:2px solid var(--ntc-border);background:var(--ntc-hdr-bg);display:flex;flex-direction:column;overflow:hidden;z-index:10}.ntc-res-header[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid var(--ntc-border);flex-shrink:0}.ntc-res-header-text[_ngcontent-%COMP%]{padding:0 12px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--ntc-muted)}.ntc-res-rows[_ngcontent-%COMP%]{overflow-y:hidden;flex:1}.ntc-res-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;border-bottom:1px solid var(--ntc-border-lt);background:var(--ntc-row-bg);box-sizing:border-box;overflow:hidden;transition:background .1s}.ntc-res-row[_ngcontent-%COMP%]:hover{background:var(--ntc-surface)}.ntc-res-group[_ngcontent-%COMP%]{background:var(--ntc-grp-bg)!important}.ntc-expand-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:var(--ntc-muted);font-size:10px;padding:2px 3px;flex-shrink:0;line-height:1}.ntc-res-info[_ngcontent-%COMP%]{min-width:0;flex:1;overflow:hidden}.ntc-res-name[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ntc-res-group[_ngcontent-%COMP%]   .ntc-res-name[_ngcontent-%COMP%]{font-weight:700}.ntc-res-sub[_ngcontent-%COMP%]{display:block;font-size:11px;color:var(--ntc-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ntc-timeline[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative}.ntc-hdr[_ngcontent-%COMP%]{position:sticky;top:0;z-index:9;background:var(--ntc-hdr-bg);border-bottom:2px solid var(--ntc-border);display:flex;flex-direction:column}.ntc-hdr-tier[_ngcontent-%COMP%]{display:flex;flex:1;border-bottom:1px solid var(--ntc-border-lt)}.ntc-hdr-tier[_ngcontent-%COMP%]:last-child{border-bottom:none}.ntc-hdr-cell[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:var(--ntc-muted);border-right:1px solid var(--ntc-border-lt);box-sizing:border-box;padding:0 4px;white-space:nowrap;overflow:hidden}.ntc-hdr-filler[_ngcontent-%COMP%]{flex:1 1 auto;border-right:none}.ntc-hdr-cell-lg[_ngcontent-%COMP%]{justify-content:flex-start;font-size:12px;font-weight:700;color:var(--ntc-text);padding-left:10px}.ntc-hdr-cell.ntc-today-col[_ngcontent-%COMP%]{color:var(--ntc-primary);background:var(--ntc-today-bg)}.ntc-hdr-cell.ntc-weekend[_ngcontent-%COMP%]{opacity:.75}.ntc-hdr[_ngcontent-%COMP%]{width:100%}.ntc-grid[_ngcontent-%COMP%]{position:relative;width:100%}.ntc-row-drag-over[_ngcontent-%COMP%]{background:#3d91ff14!important;outline:2px dashed rgba(61,145,255,.5);outline-offset:-2px}.ntc-grid-row[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid var(--ntc-border-lt);box-sizing:border-box;background:var(--ntc-row-bg)}.ntc-grid-row[_ngcontent-%COMP%]:nth-child(2n){background:var(--ntc-row-alt)}.ntc-grid-group[_ngcontent-%COMP%]{background:var(--ntc-grp-bg)!important}.ntc-row-selecting[_ngcontent-%COMP%]{background:#3d91ff0a!important}.ntc-bg-cols[_ngcontent-%COMP%]{display:flex;position:absolute;inset:0}.ntc-bg-col[_ngcontent-%COMP%]{flex-shrink:0;height:100%;border-right:1px solid var(--ntc-border-lt);box-sizing:border-box}.ntc-bg-filler[_ngcontent-%COMP%]{flex:1;height:100%}.ntc-bg-col.ntc-weekend[_ngcontent-%COMP%]{background:var(--ntc-weekend-bg)}.ntc-bg-col.ntc-today-col[_ngcontent-%COMP%]{background:var(--ntc-today-bg);border-right-color:var(--ntc-today-bdr)}.ntc-evts-layer[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.ntc-evt[_ngcontent-%COMP%]{position:absolute;border-radius:3px;border:1px solid transparent;pointer-events:all;cursor:pointer;overflow:visible;-webkit-user-select:none;user-select:none;box-sizing:border-box;min-width:4px;transition:box-shadow .15s,opacity .15s}.ntc-evt[_ngcontent-%COMP%]:hover{box-shadow:0 4px 14px #00000052;z-index:2}.ntc-evt.ntc-evt-selected[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #ffffffe6,0 0 0 4px var(--ntc-primary);z-index:3}.ntc-evt.ntc-evt-dragging[_ngcontent-%COMP%]{opacity:.65;cursor:grabbing;z-index:100}.ntc-evt.ntc-evt-blocked[_ngcontent-%COMP%]{opacity:.45;background-image:repeating-linear-gradient(-45deg,transparent,transparent 4px,rgba(255,0,0,.2) 4px,rgba(255,0,0,.2) 8px)!important;cursor:not-allowed}.ntc-evt-inner[_ngcontent-%COMP%]{height:100%;padding:2px 18px 2px 7px;display:flex;flex-direction:column;justify-content:center;overflow:hidden}.ntc-evt-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}.ntc-evt-time[_ngcontent-%COMP%]{font-size:10px;opacity:.85;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ntc-resize[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:10px;cursor:col-resize;z-index:5;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .15s}.ntc-evt[_ngcontent-%COMP%]:hover   .ntc-resize[_ngcontent-%COMP%]{opacity:1}.ntc-resize-end[_ngcontent-%COMP%]{right:0}.ntc-resize-start[_ngcontent-%COMP%]{left:0}.ntc-resize-grip[_ngcontent-%COMP%]{display:block;width:2px;height:55%;border-radius:1px;background:#ffffffbf}.ntc-now-line[_ngcontent-%COMP%]{position:absolute;top:-1px;bottom:-1px;width:2px;background:var(--ntc-now);z-index:4;pointer-events:none}.ntc-sel-box[_ngcontent-%COMP%]{position:absolute;background:var(--ntc-sel-bg);border:2px solid var(--ntc-sel-bdr);border-radius:3px;pointer-events:none;z-index:50;display:flex;align-items:center;justify-content:center;min-width:2px;box-shadow:0 2px 8px #3d91ff2e}.ntc-sel-label[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:var(--ntc-primary);white-space:nowrap;padding:0 5px;overflow:hidden}.ntc-sel-tooltip[_ngcontent-%COMP%]{position:absolute;background:#1a1d23;color:#e8eaf0;padding:9px 14px;border-radius:8px;font-size:12px;pointer-events:none;z-index:9999;box-shadow:0 6px 20px #00000059;transform:translate(-50%,-110%);white-space:nowrap;border:1px solid #2e3341}.ntc-sel-tooltip[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;bottom:-7px;left:50%;transform:translate(-50%);width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #1a1d23}.ntc-sel-tooltip-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:7px;font-size:13px;font-weight:700;margin-bottom:3px}.ntc-sel-tooltip-res[_ngcontent-%COMP%]{font-size:11px;color:#3d91ff;margin-bottom:3px}.ntc-sel-tooltip-hint[_ngcontent-%COMP%]{font-size:10px;color:#8892a4}.ntc-evt-tooltip[_ngcontent-%COMP%]{position:absolute;background:#1a1d23;color:#e8eaf0;border:1px solid #2e3341;border-radius:10px;padding:10px 14px;min-width:180px;max-width:260px;pointer-events:none;z-index:8000;box-shadow:0 8px 28px #0006;transform:translate(-50%,calc(-100% - 10px));animation:_ngcontent-%COMP%_ntc-tip-in .12s ease}@keyframes _ngcontent-%COMP%_ntc-tip-in{0%{opacity:0;transform:translate(-50%,calc(-100% - 6px))}to{opacity:1;transform:translate(-50%,calc(-100% - 10px))}}.ntc-evt-tooltip[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;bottom:-7px;left:50%;transform:translate(-50%);width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #1a1d23}.ntc-evt-tooltip-title[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#fff;margin-bottom:8px;line-height:1.4;word-break:break-word}.ntc-evt-tooltip-time[_ngcontent-%COMP%], .ntc-evt-tooltip-res[_ngcontent-%COMP%], .ntc-evt-tooltip-extra[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:6px;font-size:11px;color:#b0bec5;margin-bottom:4px;line-height:1.4}.ntc-evt-tooltip-icon[_ngcontent-%COMP%]{font-size:12px;flex-shrink:0;margin-top:1px}.ntc-evt-tooltip-extra[_ngcontent-%COMP%]{color:#8892a4;font-style:italic}.ntc-evt-tooltip-mode[_ngcontent-%COMP%]{margin-top:6px;padding-top:6px;border-top:1px solid #2e3341}.ntc-evt-tooltip-badge[_ngcontent-%COMP%]{font-size:10px;background:#ff47572e;color:#ff6b78;padding:2px 8px;border-radius:8px;font-weight:700}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return NgxTimelineCalendarComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}